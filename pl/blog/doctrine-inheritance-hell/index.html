<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="utf-8">
<meta name="description" content="W poprzednią środę rozpocząłem pracę, jako programista aplikacji webowych (framework symfony), ale nie zapominam o innych rzeczach.">
<meta name="viewport" content="width=device-width">
<title>Doctrine Inheritance Hell | Cases</title>
<link href="../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS (en)" href="../../../rss.xml">
<link rel="alternate" type="application/rss+xml" title="RSS (pl)" href="../../rss.xml">
<link rel="canonical" href="http://blog.fizyk.net.pl/pl/blog/doctrine-inheritance-hell/">
<link rel="icon" href="../../../favicon.png" sizes="62x60">
<link rel="icon" href="../../../favicon-speddial.png" sizes="269x262">
<!--[if lt IE 9]><script src="../../../assets/js/html5.js"></script><![endif]-->
</head>
<body class="home blog">
    <div id="wrap" style="width:850px">
        <div id="container" style="width:560px">
            
            
    <div class="post">
    
    <h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Doctrine Inheritance Hell</a></h1>

        <div class="meta" style="background-color: rgb(234, 234, 234); ">
        <span class="authordate">
            Opublikowano: <time class="published" datetime="2010-03-08T22:03:53+01:00">08 3 2010 22:03</time>
               [<a href="index.rst" id="sourcelink">Źródło</a>]
        </span>
        <br><span class="tags">Tagi: 
                    <a class="tag" href="../../tags/apostrophe/"><span>apostrophe</span></a>
                    <a class="tag" href="../../tags/doctrine/"><span>doctrine</span></a>
                    <a class="tag" href="../../tags/inheritance/"><span>inheritance</span></a>
                    <a class="tag" href="../../tags/sfdoctrineapply/"><span>sfDoctrineApply</span></a>
                    <a class="tag" href="../../tags/symfony/"><span>symfony</span></a>
                </span>
                <br><span class="authordate">
            

        </span>
        </div>
    <div>
<p>W poprzednią środę rozpocząłem pracę, jako programista aplikacji
webowych (framework symfony), ale nie zapominam o innych rzeczach.</p>
<!-- TEASER_END -->
<p>Aktualnie w domu pracuję głównie nad forkiem pluginu
<a class="reference external" href="http://www.symfony-project.org/plugins/sfDoctrineApplyPlugin">sfDoctrineApplyPlugin</a>.
Doszedłem do wniosku, ze póki co, sfGuardUserProfile nie będzie
dziedziczył po obiekcie sfGuardUser z pluginu
<a class="reference external" href="http://www.symfony-project.org/plugins/sfDoctrineGuardPlugin">sfDoctrineGuardPlugin</a>.
Wymagałoby to zbyt wielu zmian w strukturze i różnic w architekturze.
Przede wszystkim, przy próbie zastosowania dziedziczenia typu
<strong>concrete</strong>, konieczne byłoby zmodyfikowanie modeli dostarczanych przez
ten plugin: sfGuardUser, sfGuardPermission i sfGuardGroup. Skończyłoby
się łączeniem obu tych pluginów w jednym miejscu. I jakkolwiek opcja
jest kusząca, gdyż powinna rozwiązać kilka problemów, sam tego na razie
nie zrobię. Dziedziczenie concrete byłoby wymagane, by można było
przynajmniej część dodatkowych kolumn ustawić jako wymagane. Nie jest to
możliwe przy zastosowaniu dziedziczenia typu <strong>simple</strong> lub
<strong>column_aggregation</strong>.</p>
<p>Zamiast wciągać w modyfikacje plugin sfDoctrineGuard, zdecydowałem się
na zaproponowanie dziedziczenia po profilu z dwóch powodów:</p>
<p>Po pierwsze, sfDoctrineGuard dostarcza gotową część funkcjonalności:
umożliwia logowanie i wylogowywanie użytkowników, zarządzanie grupami i
uprawnieniami. W pewnych przypadkach to wystarczy, szczególnie w
systemach, gdzie nowych użytkowników rejestruje administrator, lub osoba
wyznaczona. sfDoctrineApply dostarcza funkcjonalności wymaganych do
pełnej obsługi samodzielnej rejestracji, a jego dwie główne wady to
zależność od Zend Framework i jedno pole na imię i nazwisko.</p>
<p>Z całym szacunkiem do twórców apostrophe, możliwe, że u nich odzięcie
się od SwiftMailer minimalizuje zależności. W innych przypadkach taki
krok tylko zwiększa ilość zależności. Tym bardziej, iż aby skorzystać z
Zend_Mail raczej konieczne jest użycie co najmniej minimalnej wersji
Zend Framework. Taki krok zwiększa tylko wagę projektu o dodatkowe 20MB!
A, że osobiście nie lubię przerostu formy nad treścią, taki krok jest
dla mnie nie do przyjęcia (Dlatego nie używam iTunes, a nowe Windowsy
mają u mnie niezmazywalnego minusa na starcie). Minimum wagi, maksimum
możliwości!</p>
<p>Drugim powodem jest nadmiarowa, i w tym wypadku nie potrzebna kolumna
określająca typ obiektu w dziedziczeniu typu <strong>column_aggregation</strong>.
Dziedziczyć po dostarczanym profilu powinna tylko jedna klasa,
rozszerzająca ten profil.</p>
<p>Jedno mnie tylko zastanawia, dlaczego zbudowane modele, podstawowy i ten
rozszerzony posiadają te same funkcjonalności? Jeśli rozszerzamy Profil
dodając jakąś kolumnę, pojawia się on i w modelu podstawowym, jak i
rozszerzonym. Wykorzystać tę właściwość, czy raczej pozostać przy
zdrowym rozsądku na wypadek poprawienia tego zachowania w kolejnych
edycjach symfony lub doctrine? Jak to dobrze kolega Jacek ujął:
<em>Inheritance Hell</em>. O dziedziczeniu w Doctrine można przeczytać w
<a class="reference external" href="http://www.doctrine-project.org/documentation/manual/1_2/en/inheritance">dokumentacji</a>.</p>
<p>Wracając do innych projektów, mam nadzieję, że w weekend opakuję klasy
Routingu w plugin i opublikuję, wprowadzając kilku poprawek i możliwości
dodawania opcji. A i w pracy szykuje się ciekawy (mam nadzieję) plugin
dotyczący Behaviourów Doctrine.</p>
</div>
    
        <ul class="pager hidden-print">
<li class="previous">
                <a href="../zima-sie-skonczyla/" rel="prev" title="Zima się skończyła">Poprzedni post</a>
            </li>
            <li class="next">
                <a href="../wszystkie-drogi-prowadza-przed-siebie/" rel="next" title="Wszystkie drogi prowadzą przed siebie">Następny post</a>
            </li>
        </ul>
<div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="casesblog",
            disqus_url="http://blog.fizyk.net.pl/pl/blog/doctrine-inheritance-hell/",
        disqus_title="Doctrine Inheritance Hell",
        disqus_identifier="cache/posts/2010-03-08-doctrine-inheritance-hell.pl.html",
        disqus_config = function () {
            this.language = "pl";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


    

    </div>

        </div>
        <div id="sidebar">
            <!--Sidebar content-->
            <h1 id="blog-title">
                <a href="http://blog.fizyk.net.pl/" title="Cases">Cases</a>
            </h1>
            
            <small>
                Również dostępny w językach: 
                
            <li><a href="http://blog.fizyk.net.pl/" rel="alternate" hreflang="en">English</a></li>

            </small>
            
            <ul class="unstyled">
<li>
<a rel="license" href="http://creativecommons.org/licenses/by/3.0/deed.pl">
    <img alt="Licencja Creative Commons" style="border-width:0" src="http://i.creativecommons.org/l/by/3.0/88x31.png"></a>
<br>Ten utwór, autorstwa
<span xmlns:cc="http://creativecommons.org/ns#" property="cc:attributionName">
    Grzegorz Śliwiński</span>
jest dostępny na licencji
<a rel="license" href="http://creativecommons.org/licenses/by/3.0/deed.pl">
    Creative Commons Uznanie autorstwa 3.0 Unported
</a>.</li>
            
                <li>
<a href="http://www.fizyk.net.pl">Strona domowa</a>
                </li>
<li>
<a href="../../archive/">Archiwum</a>
                </li>
<li>
<a href="../../tags/">Tagi</a>

            </li>
<li>
            
            
            </ul>
</div>
        <div id="footer">
            Contents © 2021 <a href="mailto:fizyk~~fizyk.net.pl">Grzegorz Śliwiński</a> - Powered by <a href="http://nikola.ralsina.com.ar">Nikola</a>
            
        </div>
    </div>
    
            <script src="../../../assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-20536007-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</body>
</html>
