<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>Pandoc: Convert documents between formats | Cases</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS (en)" href="../../rss.xml">
<link rel="alternate" type="application/rss+xml" title="RSS (pl)" href="../../pl/rss.xml">
<link rel="canonical" href="https://fizyk.dev/blog/pandoc-convert-documents-between-formats/">
<link rel="icon" href="../../favicon.png" sizes="62x60">
<link rel="icon" href="../../favicon-speddial.png" sizes="269x262">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]-->
</head>
<body class="home blog">
    <div id="wrap" style="width:850px">
        <div id="container" style="width:560px">
            
            
    <div class="post">
    
    <h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Pandoc: Convert documents between formats</a></h1>

        <div class="meta" style="background-color: rgb(234, 234, 234); ">
        <span class="authordate">
            Posted: <time class="published" datetime="2013-04-27T21:01:13+02:00">27 4 2013 21:01</time>
               [<a href="index.rst" id="sourcelink">Source</a>]
        </span>
        <br><span class="tags">Tags: 
                    <a class="tag" href="../../tags/pandoc/"><span>pandoc</span></a>
                    <a class="tag" href="../../tags/python/"><span>python</span></a>
                    <a class="tag" href="../../tags/tip/"><span>tip</span></a>
                    <a class="tag" href="../../tags/tools/"><span>tools</span></a>
                </span>
                <br><span class="authordate">
            

        </span>
        </div>
    <p>Here's another post from my recent migration to Nikola. On my engine, I stored posts in databse in html, but writing Nikola, I wanted to use reStructuredText format. And while I probably could leave out old posts in html, I thought it would be only for the best to find a simple way, and reformat all my posts into rst files.</p>
<!-- TEASER_END -->
<p>After some digging around, I found <a class="reference external" href="http://johnmacfarlane.net/pandoc/index.html">Pandoc</a>. It supports lots of formats between it can convert documents: Markdown, reStructuredText, AsciiDoc, MediaWiki markup, LaTeX, epub, docx, odt, html, PDF. Even though it does not have python API, it still can easily used in python programs. Such program just needs to store source into a file first, run <strong>pandoc</strong> in subprocess, and then read the output file.</p>
<p>Using subprocess call, I've been able to convert html documents into rst ones.</p>
<div class="code"><pre class="code python"><a id="rest_code_0f94bf12502d44a3865e98c2645913f1-1" name="rest_code_0f94bf12502d44a3865e98c2645913f1-1" href="#rest_code_0f94bf12502d44a3865e98c2645913f1-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">subprocess</span>
<a id="rest_code_0f94bf12502d44a3865e98c2645913f1-2" name="rest_code_0f94bf12502d44a3865e98c2645913f1-2" href="#rest_code_0f94bf12502d44a3865e98c2645913f1-2"></a>
<a id="rest_code_0f94bf12502d44a3865e98c2645913f1-3" name="rest_code_0f94bf12502d44a3865e98c2645913f1-3" href="#rest_code_0f94bf12502d44a3865e98c2645913f1-3"></a><span class="n">html_code</span> <span class="o">=</span> <span class="s1">'Here'</span><span class="n">s</span> <span class="n">an</span> <span class="n">html</span> <span class="n">code</span><span class="s1">'</span>
<a id="rest_code_0f94bf12502d44a3865e98c2645913f1-4" name="rest_code_0f94bf12502d44a3865e98c2645913f1-4" href="#rest_code_0f94bf12502d44a3865e98c2645913f1-4"></a>
<a id="rest_code_0f94bf12502d44a3865e98c2645913f1-5" name="rest_code_0f94bf12502d44a3865e98c2645913f1-5" href="#rest_code_0f94bf12502d44a3865e98c2645913f1-5"></a><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'doc.html'</span><span class="p">,</span> <span class="s1">'w'</span><span class="p">)</span> <span class="k">as</span> <span class="n">doc_html</span><span class="p">:</span>
<a id="rest_code_0f94bf12502d44a3865e98c2645913f1-6" name="rest_code_0f94bf12502d44a3865e98c2645913f1-6" href="#rest_code_0f94bf12502d44a3865e98c2645913f1-6"></a>    <span class="n">doc_html</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">html_code</span><span class="p">)</span>
<a id="rest_code_0f94bf12502d44a3865e98c2645913f1-7" name="rest_code_0f94bf12502d44a3865e98c2645913f1-7" href="#rest_code_0f94bf12502d44a3865e98c2645913f1-7"></a>
<a id="rest_code_0f94bf12502d44a3865e98c2645913f1-8" name="rest_code_0f94bf12502d44a3865e98c2645913f1-8" href="#rest_code_0f94bf12502d44a3865e98c2645913f1-8"></a><span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">([</span><span class="s1">'pandoc'</span><span class="p">,</span> <span class="s1">'doc.html'</span><span class="p">,</span> <span class="s1">'-w'</span><span class="p">,</span> <span class="s1">'rst'</span><span class="p">,</span> <span class="s1">'-o'</span><span class="p">,</span> <span class="s1">'doc.rst'</span><span class="p">])</span>
<a id="rest_code_0f94bf12502d44a3865e98c2645913f1-9" name="rest_code_0f94bf12502d44a3865e98c2645913f1-9" href="#rest_code_0f94bf12502d44a3865e98c2645913f1-9"></a>
<a id="rest_code_0f94bf12502d44a3865e98c2645913f1-10" name="rest_code_0f94bf12502d44a3865e98c2645913f1-10" href="#rest_code_0f94bf12502d44a3865e98c2645913f1-10"></a><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'doc.rst'</span><span class="p">,</span> <span class="s1">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="n">doc_rst</span><span class="p">:</span>
<a id="rest_code_0f94bf12502d44a3865e98c2645913f1-11" name="rest_code_0f94bf12502d44a3865e98c2645913f1-11" href="#rest_code_0f94bf12502d44a3865e98c2645913f1-11"></a>    <span class="n">rst_code</span> <span class="o">=</span> <span class="n">doc_rst</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>
<p>Few issues were present within rst documents generated this way, but still I was able to convert my html posts into rst within 15 minutes including correcting those issues.</p>
    
        <ul class="pager hidden-print">
<li class="previous">
                <a href="../format-date-for-rssatom/" rel="prev" title="Format date for RSS/Atom">Previous post</a>
            </li>
            <li class="next">
                <a href="../sshconfig-file/" rel="next" title=".ssh/config file">Next post</a>
            </li>
        </ul>
<div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="casesblog",
            disqus_url="https://fizyk.dev/blog/pandoc-convert-documents-between-formats/",
        disqus_title="Pandoc: Convert documents between formats",
        disqus_identifier="cache/posts/2013-04-27-pandoc-convert-documents-between-formats.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


    

    </div>

        </div>
        <div id="sidebar">
            <!--Sidebar content-->
            <h1 id="blog-title">
                <a href="https://fizyk.dev/" title="Cases">Cases</a>
            </h1>
            
            <small>
                Also available in: 
                
            <li><a href="https://fizyk.dev/pl/" rel="alternate" hreflang="pl">Polski</a></li>

            </small>
            
            <ul class="unstyled">
<li>
<a rel="license" href="http://creativecommons.org/licenses/by/3.0/deed.pl">
    <img alt="Licencja Creative Commons" style="border-width:0" src="http://i.creativecommons.org/l/by/3.0/88x31.png"></a>
<br>Ten utwór, autorstwa
<span xmlns:cc="http://creativecommons.org/ns#" property="cc:attributionName">
    Grzegorz Śliwiński</span>
jest dostępny na licencji
<a rel="license" href="http://creativecommons.org/licenses/by/3.0/deed.pl">
    Creative Commons Uznanie autorstwa 3.0 Unported
</a>.</li>
            
                <li>
<a href="https://fizyk.dev/">Homepage</a>
                </li>
<li>
<a href="../../archive/">Archives</a>
                </li>
<li>
<a href="../../tags/">Tags</a>

            </li>
<li>
            
            
            </ul>
</div>
        <div id="footer">
            Contents © 2025 <a href="mailto:fizyk~~fizyk.dev">Grzegorz Śliwiński</a> - Powered by <a href="http://nikola.ralsina.com.ar">Nikola</a>
            
        </div>
    </div>
    
            <script src="../../assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-20536007-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</body>
</html>
