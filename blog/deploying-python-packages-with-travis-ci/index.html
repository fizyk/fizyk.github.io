<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Deploying python packages with travis-ci | Cases</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Playfair+Display:700,900" rel="stylesheet">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS (en)" hreflang="en" href="../../rss.xml">
<link rel="alternate" type="application/rss+xml" title="RSS (pl)" hreflang="pl" href="../../pl/rss.xml">
<link rel="canonical" href="http://blog.fizyk.net.pl/blog/deploying-python-packages-with-travis-ci/">
<link rel="icon" href="../../favicon.png" sizes="62x60">
<link rel="icon" href="../../favicon-speddial.png" sizes="269x262">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Grzegorz Śliwiński">
<link rel="prev" href="../pyramid_localize-010-released/" title="pyramid_localize 0.1.0 released" type="text/html">
<link rel="next" href="../how-to-redirect-user-around-your-website/" title="How to redirect user around Your website?" type="text/html">
<meta property="og:site_name" content="Cases">
<meta property="og:title" content="Deploying python packages with travis-ci">
<meta property="og:url" content="http://blog.fizyk.net.pl/blog/deploying-python-packages-with-travis-ci/">
<meta property="og:description" content="Deploying applications is tedious, so is deployin packages, no matter the package repository.
For example after applying changes to codebase, the code needs to be tagged,
as to not loose the point of ">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2014-05-04T19:21:09+02:00">
<meta property="article:tag" content="pypi">
<meta property="article:tag" content="python">
<meta property="article:tag" content="travis">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Header and menu bar -->
<div class="container">
      <header class="blog-header py-3"><div class="row nbb-header align-items-center">
          <div class="col-md-3 col-xs-2 col-sm-2" style="width: auto;">
            <button class="navbar-toggler navbar-light bg-light nbb-navbar-toggler" type="button" data-toggle="collapse" data-target=".bs-nav-collapsible" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse bs-nav-collapsible bootblog4-search-form-holder">
                
            </div>
        </div>
          <div class="col-md-6 col-xs-10 col-sm-10 bootblog4-brand" style="width: auto;">
            <a class="navbar-brand blog-header-logo text-dark" href="../../">

            <span id="blog-title">Cases</span>
        </a>
          </div>
            <div class="col-md-3 justify-content-end align-items-center bs-nav-collapsible collapse flex-collapse bootblog4-right-nav">
            <nav class="navbar navbar-light bg-white"><ul class="navbar-nav bootblog4-right-nav">
<li class="nav-item"><a href="../../pl/" rel="alternate" hreflang="pl" class="nav-link">Polski</a></li>

                    
                    
    
    <li class="nav-item">
    <a href="index.rst" id="sourcelink" class="nav-link">Source</a>
    </li>


                    
            </ul></nav>
</div>
    </div>
</header><nav class="navbar navbar-expand-md navbar-light bg-white static-top"><div class="collapse navbar-collapse bs-nav-collapsible" id="bs-navbar">
            <ul class="navbar-nav nav-fill d-flex w-100">
<li class="nav-item">
<a href="http://www.fizyk.net.pl/en" class="nav-link">Homepage</a>
                </li>
<li class="nav-item">
<a href="../../archive/" class="nav-link">Archives</a>
                </li>
<li class="nav-item">
<a href="../../tags/" class="nav-link">Tags</a>

                
            </li>
</ul>
</div>
<!-- /.navbar-collapse -->
</nav>
</div>

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
        
        
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Deploying python packages with travis-ci</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    Grzegorz Śliwiński
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2014-05-04T19:21:09+02:00" itemprop="datePublished" title="04 5 2014 19:21">04 5 2014 19:21</time></a>
            </p>
                <p class="commentline">
        
    <a href="#disqus_thread" data-disqus-identifier="cache/posts/2014-05-04-deploying-python-packages-with-travis-ci.html">Comments</a>


            
        </p>
<p class="sourceline"><a href="index.rst" class="sourcelink">Source</a></p>

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<p>Deploying applications is tedious, so is deployin packages, no matter the package repository.
For example after applying changes to codebase, the code needs to be tagged,
as to not loose the point of release from sight, after that the packages needs
to be built and uploaded. It's far too many commands that need to be done.
One might develop some deployment scripts. Sure, but what, if we could use something else to
deploy packages for us?</p>
<!-- TEASER_END -->
<p>For a some time I've used <a class="reference external" href="https://pypi.python.org/pypi/bumpversion">bumpversion</a>
to keep track of new releases in code by automatically  tagging code in repository.
Still have to push the code, preferably wait for tests to complete, and then
upload all those different packages to pypi.</p>
<p>Luckily, there's <a class="reference external" href="http://travis-ci.org/">travis-ci.org</a>, with it's
<a class="reference external" href="http://docs.travis-ci.com/user/deployment/pypi/">deployment ability</a>.
Unfortunately, it's somewhat broken, because if you want to release your code
in wheel packages, it of course install wheel package, that is required by
setuptools to package your code into a wheel, but it does so system-wide.
And deployment is taking place from within virtualenv, which results in:</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>error: invalid command 'bdist_wheel' while deploying package to pypi</p>
</div>
<p>Well, to counter this, you need to add wheel installation yourself, like this:</p>
<pre class="code yaml"><a id="rest_code_5deecdbdf1534e789144ed4f8ff0cd65-1" name="rest_code_5deecdbdf1534e789144ed4f8ff0cd65-1"></a><span class="nt">install</span><span class="p">:</span>
<a id="rest_code_5deecdbdf1534e789144ed4f8ff0cd65-2" name="rest_code_5deecdbdf1534e789144ed4f8ff0cd65-2"></a>    <span class="c1"># other installation steps</span>
<a id="rest_code_5deecdbdf1534e789144ed4f8ff0cd65-3" name="rest_code_5deecdbdf1534e789144ed4f8ff0cd65-3"></a>    <span class="c1"># manually install wheel for deployment</span>
<a id="rest_code_5deecdbdf1534e789144ed4f8ff0cd65-4" name="rest_code_5deecdbdf1534e789144ed4f8ff0cd65-4"></a>    <span class="p p-Indicator">-</span> <span class="s">"pip</span><span class="nv"> </span><span class="s">install</span><span class="nv"> </span><span class="s">wheel</span><span class="nv"> </span><span class="s">pylama</span><span class="nv"> </span><span class="s">--use-mirrors"</span>
</pre>
<p>After these changes, my deployment process got down to bumping code version with
bumpversion and pushing tags and code to github.</p>
</div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../tags/pypi/" rel="tag">pypi</a></li>
            <li><a class="tag p-category" href="../../tags/python/" rel="tag">python</a></li>
            <li><a class="tag p-category" href="../../tags/travis/" rel="tag">travis</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../pyramid_localize-010-released/" rel="prev" title="pyramid_localize 0.1.0 released">Previous post</a>
            </li>
            <li class="next">
                <a href="../how-to-redirect-user-around-your-website/" rel="next" title="How to redirect user around Your website?">Next post</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comments</h2>
        
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="casesblog",
            disqus_url="http://blog.fizyk.net.pl/blog/deploying-python-packages-with-travis-ci/",
        disqus_title="Deploying python packages with travis-ci",
        disqus_identifier="cache/posts/2014-05-04-deploying-python-packages-with-travis-ci.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section></article><script>var disqus_shortname="casesblog";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><!--End of body content--><footer id="footer">
            Contents © 2021 <a href="mailto:fizyk~~fizyk.net.pl">Grzegorz Śliwiński</a> - Powered by <a href="http://nikola.ralsina.com.ar">Nikola</a>
            
            
        </footer>
</div>
</div>


        <script src="../../assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element){var i=element.getElementsByTagName('img')[0];return i===undefined?'':i.alt;}});
    </script><script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-20536007-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</body>
</html>
