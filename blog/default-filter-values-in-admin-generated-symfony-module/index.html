<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Admin generated backend modules are very useful, they are generating with all necessary code, they have some layout, all necessary actions are there and are easy to be modified. recently. You can even add default filter setting, although it's not as simple as editing generator.yml.">
<meta name="viewport" content="width=device-width">
<title>Default filter values in admin-generated symfony module | Cases</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS (en)" href="../../rss.xml">
<link rel="alternate" type="application/rss+xml" title="RSS (pl)" href="../../pl/rss.xml">
<link rel="canonical" href="https://fizyk.dev/blog/default-filter-values-in-admin-generated-symfony-module/">
<link rel="icon" href="../../favicon-speddial.png" sizes="269x262">
<link rel="icon" href="../../favicon.png" sizes="62x60">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]-->
</head>
<body class="home blog">
    <div id="wrap" style="width:850px">
        <div id="container" style="width:560px">
            
            
    <div class="post">
    
    <h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Default filter values in admin-generated symfony module</a></h1>

        <div class="meta" style="background-color: rgb(234, 234, 234); ">
        <span class="authordate">
            Posted: <time class="published" datetime="2011-02-22T22:02:56+01:00">22 2 2011 22:02</time>
               [<a href="index.rst" id="sourcelink">Source</a>]
        </span>
        <br><span class="tags">Tags: 
                    <a class="tag" href="../../tags/admin-generator/"><span>admin generator</span></a>
                    <a class="tag" href="../../tags/php/"><span>php</span></a>
                    <a class="tag" href="../../tags/symfony/"><span>symfony</span></a>
                </span>
                <br><span class="authordate">
            

        </span>
        </div>
    <p>Admin generated backend modules are very useful, they are generating
with all necessary code, they have some layout, all necessary actions
are there and are easy to be modified. recently. You can even add
default filter setting, although it's not as simple as editing
<strong>generator.yml</strong>.</p>
<!-- TEASER_END -->
<p>So, you can set default filter? Certainly not through table_method,
this setting is for basic query, admin's filter is operating on later.
To set default filter values, there are two methods you might want to
overwrite. These methods are located in your module's
<strong>moduleGeneratorConfiguration</strong> class located in your module's lib
folder.</p>
<p>First method is getFilterForm(), which is used to serve filter form to
be generated:</p>
<div class="code"><pre class="code php"><a id="rest_code_51471747f0ac4aa495121e063214cabc-1" name="rest_code_51471747f0ac4aa495121e063214cabc-1" href="#rest_code_51471747f0ac4aa495121e063214cabc-1"></a><span class="x">public function getFilterForm($filters)</span>
<a id="rest_code_51471747f0ac4aa495121e063214cabc-2" name="rest_code_51471747f0ac4aa495121e063214cabc-2" href="#rest_code_51471747f0ac4aa495121e063214cabc-2"></a><span class="x">{</span>
<a id="rest_code_51471747f0ac4aa495121e063214cabc-3" name="rest_code_51471747f0ac4aa495121e063214cabc-3" href="#rest_code_51471747f0ac4aa495121e063214cabc-3"></a><span class="x">    if(!array_key_exists('field_name', $filters))</span>
<a id="rest_code_51471747f0ac4aa495121e063214cabc-4" name="rest_code_51471747f0ac4aa495121e063214cabc-4" href="#rest_code_51471747f0ac4aa495121e063214cabc-4"></a><span class="x">    {</span>
<a id="rest_code_51471747f0ac4aa495121e063214cabc-5" name="rest_code_51471747f0ac4aa495121e063214cabc-5" href="#rest_code_51471747f0ac4aa495121e063214cabc-5"></a><span class="x">        $filters['field_name'] = 'value';</span>
<a id="rest_code_51471747f0ac4aa495121e063214cabc-6" name="rest_code_51471747f0ac4aa495121e063214cabc-6" href="#rest_code_51471747f0ac4aa495121e063214cabc-6"></a><span class="x">    }</span>
<a id="rest_code_51471747f0ac4aa495121e063214cabc-7" name="rest_code_51471747f0ac4aa495121e063214cabc-7" href="#rest_code_51471747f0ac4aa495121e063214cabc-7"></a><span class="x">    return parent::getFilterForm($filters);</span>
<a id="rest_code_51471747f0ac4aa495121e063214cabc-8" name="rest_code_51471747f0ac4aa495121e063214cabc-8" href="#rest_code_51471747f0ac4aa495121e063214cabc-8"></a><span class="x">}</span>
</pre></div>
<p>Variable named <strong>$filters</strong> is array containing default values for
filter form. Once we use filter, values get passed through filters to
form, so it could show consistent field values. But if the field doesn't
have value, we could set default one here. But that method only sets us
default value on filter. If that's what you want, you got it,
otherwise... overwriting this method is completely unnecessary.</p>
<p>Second method to look at is <strong>getFilterDefaults()</strong>, which is actually
used to get default values for filter. These values are then applied
both to filter form, and the query from <strong>table_method</strong>.</p>
<div class="code"><pre class="code php"><a id="rest_code_734cda80be264d56825e1b77af494ee0-1" name="rest_code_734cda80be264d56825e1b77af494ee0-1" href="#rest_code_734cda80be264d56825e1b77af494ee0-1"></a><span class="x">public function getFilterDefaults()</span>
<a id="rest_code_734cda80be264d56825e1b77af494ee0-2" name="rest_code_734cda80be264d56825e1b77af494ee0-2" href="#rest_code_734cda80be264d56825e1b77af494ee0-2"></a><span class="x">{</span>
<a id="rest_code_734cda80be264d56825e1b77af494ee0-3" name="rest_code_734cda80be264d56825e1b77af494ee0-3" href="#rest_code_734cda80be264d56825e1b77af494ee0-3"></a><span class="x">    return array('field_name' =&gt; 'value');</span>
<a id="rest_code_734cda80be264d56825e1b77af494ee0-4" name="rest_code_734cda80be264d56825e1b77af494ee0-4" href="#rest_code_734cda80be264d56825e1b77af494ee0-4"></a><span class="x">}</span>
</pre></div>
<p>Method returns an array, that has same construction as the <strong>$filter</strong>
variable from <strong>getFilterForm</strong> method. Now you can enjoy your admin's
module list filtered by default values.</p>
    
        <ul class="pager hidden-print">
<li class="previous">
                <a href="../sort-doctrine-model-by-default/" rel="prev" title="Sort doctrine Model by default">Previous post</a>
            </li>
            <li class="next">
                <a href="../sfforkeddoctrineapplyplugin-1-5-6-spanish-translation/" rel="next" title="sfForkedDoctrineApplyPlugin 1.5.6 - Spanish translation">Next post</a>
            </li>
        </ul>
<div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="casesblog",
            disqus_url="https://fizyk.dev/blog/default-filter-values-in-admin-generated-symfony-module/",
        disqus_title="Default filter values in admin-generated symfony module",
        disqus_identifier="cache/posts/2011-02-22-default-filter-values-in-admin-generated-symfony-module.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


    

    </div>

        </div>
        <div id="sidebar">
            <!--Sidebar content-->
            <h1 id="blog-title">
                <a href="https://fizyk.dev/" title="Cases">Cases</a>
            </h1>
            
            <small>
                Also available in: 
                
            <li><a href="https://fizyk.dev/pl/" rel="alternate" hreflang="pl">Polski</a></li>

            </small>
            
            <ul class="unstyled">
<li>
<a rel="license" href="http://creativecommons.org/licenses/by/3.0/deed.pl">
    <img alt="Licencja Creative Commons" style="border-width:0" src="http://i.creativecommons.org/l/by/3.0/88x31.png"></a>
<br>Ten utwór, autorstwa
<span xmlns:cc="http://creativecommons.org/ns#" property="cc:attributionName">
    Grzegorz Śliwiński</span>
jest dostępny na licencji
<a rel="license" href="http://creativecommons.org/licenses/by/3.0/deed.pl">
    Creative Commons Uznanie autorstwa 3.0 Unported
</a>.</li>
            
                <li>
<a href="https://fizyk.dev/en">Homepage</a>
                </li>
<li>
<a href="../../archive/">Archives</a>
                </li>
<li>
<a href="../../tags/">Tags</a>

            </li>
<li>
            
            
            </ul>
</div>
        <div id="footer">
            Contents © 2025 <a href="mailto:fizyk~~fizyk.dev">Grzegorz Śliwiński</a> - Powered by <a href="http://nikola.ralsina.com.ar">Nikola</a>
            
        </div>
    </div>
    
            <script src="../../assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-20536007-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</body>
</html>
