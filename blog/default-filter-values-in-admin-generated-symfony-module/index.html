<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Admin generated backend modules are very useful, they are generating with all necessary code, they have some layout, all necessary actions are there and are easy to be modified. recently. You can even add default filter setting, although it's not as simple as editing generator.yml.">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Default filter values in admin-generated symfony module | Cases</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Playfair+Display:700,900" rel="stylesheet">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS (en)" hreflang="en" href="../../rss.xml">
<link rel="alternate" type="application/rss+xml" title="RSS (pl)" hreflang="pl" href="../../pl/rss.xml">
<link rel="canonical" href="http://blog.fizyk.net.pl/blog/default-filter-values-in-admin-generated-symfony-module/">
<link rel="icon" href="../../favicon.png" sizes="62x60">
<link rel="icon" href="../../favicon-speddial.png" sizes="269x262">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Grzegorz Śliwiński">
<link rel="prev" href="../sort-doctrine-model-by-default/" title="Sort doctrine Model by default" type="text/html">
<link rel="next" href="../sfforkeddoctrineapplyplugin-1-5-6-spanish-translation/" title="sfForkedDoctrineApplyPlugin 1.5.6 - Spanish translation" type="text/html">
<meta property="og:site_name" content="Cases">
<meta property="og:title" content="Default filter values in admin-generated symfony module">
<meta property="og:url" content="http://blog.fizyk.net.pl/blog/default-filter-values-in-admin-generated-symfony-module/">
<meta property="og:description" content="Admin generated backend modules are very useful, they are generating with all necessary code, they have some layout, all necessary actions are there and are easy to be modified. recently. You can even">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2011-02-22T22:02:56+01:00">
<meta property="article:tag" content="admin generator">
<meta property="article:tag" content="php">
<meta property="article:tag" content="symfony">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Header and menu bar -->
<div class="container">
      <header class="blog-header py-3"><div class="row nbb-header align-items-center">
          <div class="col-md-3 col-xs-2 col-sm-2" style="width: auto;">
            <button class="navbar-toggler navbar-light bg-light nbb-navbar-toggler" type="button" data-toggle="collapse" data-target=".bs-nav-collapsible" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse bs-nav-collapsible bootblog4-search-form-holder">
                
            </div>
        </div>
          <div class="col-md-6 col-xs-10 col-sm-10 bootblog4-brand" style="width: auto;">
            <a class="navbar-brand blog-header-logo text-dark" href="../../">

            <span id="blog-title">Cases</span>
        </a>
          </div>
            <div class="col-md-3 justify-content-end align-items-center bs-nav-collapsible collapse flex-collapse bootblog4-right-nav">
            <nav class="navbar navbar-light bg-white"><ul class="navbar-nav bootblog4-right-nav">
<li class="nav-item"><a href="../../pl/" rel="alternate" hreflang="pl" class="nav-link">Polski</a></li>

                    
                    
    
    <li class="nav-item">
    <a href="index.rst" id="sourcelink" class="nav-link">Source</a>
    </li>


                    
            </ul></nav>
</div>
    </div>
</header><nav class="navbar navbar-expand-md navbar-light bg-white static-top"><div class="collapse navbar-collapse bs-nav-collapsible" id="bs-navbar">
            <ul class="navbar-nav nav-fill d-flex w-100">
<li class="nav-item">
<a href="http://www.fizyk.net.pl/en" class="nav-link">Homepage</a>
                </li>
<li class="nav-item">
<a href="../../archive/" class="nav-link">Archives</a>
                </li>
<li class="nav-item">
<a href="../../tags/" class="nav-link">Tags</a>

                
            </li>
</ul>
</div>
<!-- /.navbar-collapse -->
</nav>
</div>

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
        
        
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Default filter values in admin-generated symfony module</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    Grzegorz Śliwiński
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2011-02-22T22:02:56+01:00" itemprop="datePublished" title="22 2 2011 22:02">22 2 2011 22:02</time></a>
            </p>
                <p class="commentline">
        
    <a href="#disqus_thread" data-disqus-identifier="cache/posts/2011-02-22-default-filter-values-in-admin-generated-symfony-module.html">Comments</a>


            
        </p>
<p class="sourceline"><a href="index.rst" class="sourcelink">Source</a></p>

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<p>Admin generated backend modules are very useful, they are generating
with all necessary code, they have some layout, all necessary actions
are there and are easy to be modified. recently. You can even add
default filter setting, although it's not as simple as editing
<strong>generator.yml</strong>.</p>
<!-- TEASER_END -->
<p>So, you can set default filter? Certainly not through table_method,
this setting is for basic query, admin's filter is operating on later.
To set default filter values, there are two methods you might want to
overwrite. These methods are located in your module's
<strong>moduleGeneratorConfiguration</strong> class located in your module's lib
folder.</p>
<p>First method is getFilterForm(), which is used to serve filter form to
be generated:</p>
<pre class="code php"><a id="rest_code_6bc65af6b8764a3189c60b5d4c8c7805-1" name="rest_code_6bc65af6b8764a3189c60b5d4c8c7805-1"></a><span class="x">public function getFilterForm($filters)</span>
<a id="rest_code_6bc65af6b8764a3189c60b5d4c8c7805-2" name="rest_code_6bc65af6b8764a3189c60b5d4c8c7805-2"></a><span class="x">{</span>
<a id="rest_code_6bc65af6b8764a3189c60b5d4c8c7805-3" name="rest_code_6bc65af6b8764a3189c60b5d4c8c7805-3"></a><span class="x">    if(!array_key_exists('field_name', $filters))</span>
<a id="rest_code_6bc65af6b8764a3189c60b5d4c8c7805-4" name="rest_code_6bc65af6b8764a3189c60b5d4c8c7805-4"></a><span class="x">    {</span>
<a id="rest_code_6bc65af6b8764a3189c60b5d4c8c7805-5" name="rest_code_6bc65af6b8764a3189c60b5d4c8c7805-5"></a><span class="x">        $filters['field_name'] = 'value';</span>
<a id="rest_code_6bc65af6b8764a3189c60b5d4c8c7805-6" name="rest_code_6bc65af6b8764a3189c60b5d4c8c7805-6"></a><span class="x">    }</span>
<a id="rest_code_6bc65af6b8764a3189c60b5d4c8c7805-7" name="rest_code_6bc65af6b8764a3189c60b5d4c8c7805-7"></a><span class="x">    return parent::getFilterForm($filters);</span>
<a id="rest_code_6bc65af6b8764a3189c60b5d4c8c7805-8" name="rest_code_6bc65af6b8764a3189c60b5d4c8c7805-8"></a><span class="x">}</span>
</pre>
<p>Variable named <strong>$filters</strong> is array containing default values for
filter form. Once we use filter, values get passed through filters to
form, so it could show consistent field values. But if the field doesn't
have value, we could set default one here. But that method only sets us
default value on filter. If that's what you want, you got it,
otherwise... overwriting this method is completely unnecessary.</p>
<p>Second method to look at is <strong>getFilterDefaults()</strong>, which is actually
used to get default values for filter. These values are then applied
both to filter form, and the query from <strong>table_method</strong>.</p>
<pre class="code php"><a id="rest_code_a797105a10de41998a388c043adadaef-1" name="rest_code_a797105a10de41998a388c043adadaef-1"></a><span class="x">public function getFilterDefaults()</span>
<a id="rest_code_a797105a10de41998a388c043adadaef-2" name="rest_code_a797105a10de41998a388c043adadaef-2"></a><span class="x">{</span>
<a id="rest_code_a797105a10de41998a388c043adadaef-3" name="rest_code_a797105a10de41998a388c043adadaef-3"></a><span class="x">    return array('field_name' =&gt; 'value');</span>
<a id="rest_code_a797105a10de41998a388c043adadaef-4" name="rest_code_a797105a10de41998a388c043adadaef-4"></a><span class="x">}</span>
</pre>
<p>Method returns an array, that has same construction as the <strong>$filter</strong>
variable from <strong>getFilterForm</strong> method. Now you can enjoy your admin's
module list filtered by default values.</p>
</div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../tags/admin-generator/" rel="tag">admin generator</a></li>
            <li><a class="tag p-category" href="../../tags/php/" rel="tag">php</a></li>
            <li><a class="tag p-category" href="../../tags/symfony/" rel="tag">symfony</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../sort-doctrine-model-by-default/" rel="prev" title="Sort doctrine Model by default">Previous post</a>
            </li>
            <li class="next">
                <a href="../sfforkeddoctrineapplyplugin-1-5-6-spanish-translation/" rel="next" title="sfForkedDoctrineApplyPlugin 1.5.6 - Spanish translation">Next post</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comments</h2>
        
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="casesblog",
            disqus_url="http://blog.fizyk.net.pl/blog/default-filter-values-in-admin-generated-symfony-module/",
        disqus_title="Default filter values in admin-generated symfony module",
        disqus_identifier="cache/posts/2011-02-22-default-filter-values-in-admin-generated-symfony-module.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section></article><script>var disqus_shortname="casesblog";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><!--End of body content--><footer id="footer">
            Contents © 2021 <a href="mailto:fizyk~~fizyk.net.pl">Grzegorz Śliwiński</a> - Powered by <a href="http://nikola.ralsina.com.ar">Nikola</a>
            
            
        </footer>
</div>
</div>


        <script src="../../assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element){var i=element.getElementsByTagName('img')[0];return i===undefined?'':i.alt;}});
    </script><script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-20536007-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</body>
</html>
