<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Recently I saw two posts in the symfony blogosphere about decreasing number of queries in admin generated module (in January on Techie Corner, and today on Symfony world - which prompted me to write this post). And both bloggers seemed to be happy with overwriting buildQuery method of the module's action class. But generator.yml provides more elegant solution for admin generated modules.">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Decrease number of queries for admin generated module: the better way | Cases</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Playfair+Display:700,900" rel="stylesheet">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS (en)" hreflang="en" href="../../rss.xml">
<link rel="alternate" type="application/rss+xml" title="RSS (pl)" hreflang="pl" href="../../pl/rss.xml">
<link rel="canonical" href="http://blog.fizyk.net.pl/blog/decrease-number-of-queries-for-admin-generated-module-the-better-way/">
<link rel="icon" href="../../favicon.png" sizes="62x60">
<link rel="icon" href="../../favicon-speddial.png" sizes="269x262">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Grzegorz Śliwiński">
<link rel="prev" href="../fztagplugin-1-2-6/" title="fzTagPlugin 1.2.6" type="text/html">
<link rel="next" href="../sort-doctrine-model-by-default/" title="Sort doctrine Model by default" type="text/html">
<meta property="og:site_name" content="Cases">
<meta property="og:title" content="Decrease number of queries for admin generated module: the better way">
<meta property="og:url" content="http://blog.fizyk.net.pl/blog/decrease-number-of-queries-for-admin-generated-module-the-better-way/">
<meta property="og:description" content="Recently I saw two posts in the symfony blogosphere about decreasing number of queries in admin generated module (in January on Techie Corner, and today on Symfony world - which prompted me to write t">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2011-02-14T21:02:50+01:00">
<meta property="article:tag" content="admin generator">
<meta property="article:tag" content="php">
<meta property="article:tag" content="query">
<meta property="article:tag" content="symfony">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Header and menu bar -->
<div class="container">
      <header class="blog-header py-3"><div class="row nbb-header align-items-center">
          <div class="col-md-3 col-xs-2 col-sm-2" style="width: auto;">
            <button class="navbar-toggler navbar-light bg-light nbb-navbar-toggler" type="button" data-toggle="collapse" data-target=".bs-nav-collapsible" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse bs-nav-collapsible bootblog4-search-form-holder">
                
            </div>
        </div>
          <div class="col-md-6 col-xs-10 col-sm-10 bootblog4-brand" style="width: auto;">
            <a class="navbar-brand blog-header-logo text-dark" href="../../">

            <span id="blog-title">Cases</span>
        </a>
          </div>
            <div class="col-md-3 justify-content-end align-items-center bs-nav-collapsible collapse flex-collapse bootblog4-right-nav">
            <nav class="navbar navbar-light bg-white"><ul class="navbar-nav bootblog4-right-nav">
<li class="nav-item"><a href="../../pl/" rel="alternate" hreflang="pl" class="nav-link">Polski</a></li>

                    
                    
    
    <li class="nav-item">
    <a href="index.rst" id="sourcelink" class="nav-link">Source</a>
    </li>


                    
            </ul></nav>
</div>
    </div>
</header><nav class="navbar navbar-expand-md navbar-light bg-white static-top"><div class="collapse navbar-collapse bs-nav-collapsible" id="bs-navbar">
            <ul class="navbar-nav nav-fill d-flex w-100">
<li class="nav-item">
<a href="http://www.fizyk.net.pl/en" class="nav-link">Homepage</a>
                </li>
<li class="nav-item">
<a href="../../archive/" class="nav-link">Archives</a>
                </li>
<li class="nav-item">
<a href="../../tags/" class="nav-link">Tags</a>

                
            </li>
</ul>
</div>
<!-- /.navbar-collapse -->
</nav>
</div>

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
        
        
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Decrease number of queries for admin generated module: the better way</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    Grzegorz Śliwiński
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2011-02-14T21:02:50+01:00" itemprop="datePublished" title="14 2 2011 21:02">14 2 2011 21:02</time></a>
            </p>
                <p class="commentline">
        
    <a href="#disqus_thread" data-disqus-identifier="cache/posts/2011-02-14-decrease-number-of-queries-for-admin-generated-module-the-better-way.html">Comments</a>


            
        </p>
<p class="sourceline"><a href="index.rst" class="sourcelink">Source</a></p>

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<p>Recently I saw two posts in the symfony blogosphere about decreasing
number of queries in admin generated module (in January on <a class="reference external" href="http://www.techiecorner.com/1963/how-to-reduce-admin-generator-query-in-symfony-1-4/">Techie
Corner</a>,
and today on <a class="reference external" href="http://symfony-world.blogspot.com/2011/02/less-doctrine-queries-in-symfony-admin.html">Symfony
world</a>
- which prompted me to write this post). And both bloggers seemed to be
happy with overwriting buildQuery method of the module's action class.
But <strong>generator.yml</strong> provides more elegant solution for admin generated
modules.</p>
<!-- TEASER_END -->
<p>When I first saw that solution on techiecorner, I thought: "<em>hmmm.. that
could be useful</em>", but then, I looked at my generator.yml file and saw
<strong>table_method</strong> i placed there long time ago...</p>
<pre class="code yaml"><a id="rest_code_69f3974c7355407f84a2566a4b6c5294-1" name="rest_code_69f3974c7355407f84a2566a4b6c5294-1"></a><span class="nt">generator</span><span class="p">:</span>
<a id="rest_code_69f3974c7355407f84a2566a4b6c5294-2" name="rest_code_69f3974c7355407f84a2566a4b6c5294-2"></a>  <span class="nt">param</span><span class="p">:</span>
<a id="rest_code_69f3974c7355407f84a2566a4b6c5294-3" name="rest_code_69f3974c7355407f84a2566a4b6c5294-3"></a>    <span class="nt">config</span><span class="p">:</span>
<a id="rest_code_69f3974c7355407f84a2566a4b6c5294-4" name="rest_code_69f3974c7355407f84a2566a4b6c5294-4"></a>      <span class="nt">list</span><span class="p">:</span>
<a id="rest_code_69f3974c7355407f84a2566a4b6c5294-5" name="rest_code_69f3974c7355407f84a2566a4b6c5294-5"></a>        <span class="nt">table_method</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">getAdminNotes</span>
</pre>
<p>And while both, overwriting buildQuery and setting table_method can
achieve same goal, I think table_method is more elegant, as it keeps
your query in your ModelTable, and can be reused in other part of your
project as well.</p>
<p>See <a class="reference external" href="http://www.symfony-project.org/reference/1_4/en/06-Admin-Generator#chapter_06_sub_table_method">The symfony Reference
Book</a>.</p>
</div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../tags/admin-generator/" rel="tag">admin generator</a></li>
            <li><a class="tag p-category" href="../../tags/php/" rel="tag">php</a></li>
            <li><a class="tag p-category" href="../../tags/query/" rel="tag">query</a></li>
            <li><a class="tag p-category" href="../../tags/symfony/" rel="tag">symfony</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../fztagplugin-1-2-6/" rel="prev" title="fzTagPlugin 1.2.6">Previous post</a>
            </li>
            <li class="next">
                <a href="../sort-doctrine-model-by-default/" rel="next" title="Sort doctrine Model by default">Next post</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comments</h2>
        
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="casesblog",
            disqus_url="http://blog.fizyk.net.pl/blog/decrease-number-of-queries-for-admin-generated-module-the-better-way/",
        disqus_title="Decrease number of queries for admin generated module: the better way",
        disqus_identifier="cache/posts/2011-02-14-decrease-number-of-queries-for-admin-generated-module-the-better-way.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section></article><script>var disqus_shortname="casesblog";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><!--End of body content--><footer id="footer">
            Contents © 2021 <a href="mailto:fizyk~~fizyk.net.pl">Grzegorz Śliwiński</a> - Powered by <a href="http://nikola.ralsina.com.ar">Nikola</a>
            
            
        </footer>
</div>
</div>


        <script src="../../assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element){var i=element.getElementsByTagName('img')[0];return i===undefined?'':i.alt;}});
    </script><script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-20536007-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</body>
</html>
