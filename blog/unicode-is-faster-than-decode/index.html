<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>unicode is faster than decode | Cases</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS (en)" href="../../rss.xml">
<link rel="alternate" type="application/rss+xml" title="RSS (pl)" href="../../pl/rss.xml">
<link rel="canonical" href="https://fizyk.dev/blog/unicode-is-faster-than-decode/">
<link rel="icon" href="../../favicon-speddial.png" sizes="269x262">
<link rel="icon" href="../../favicon.png" sizes="62x60">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]-->
</head>
<body class="home blog">
    <div id="wrap" style="width:850px">
        <div id="container" style="width:560px">
            
            
    <div class="post">
    
    <h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">unicode is faster than decode</a></h1>

        <div class="meta" style="background-color: rgb(234, 234, 234); ">
        <span class="authordate">
            Posted: <time class="published" datetime="2013-07-17T23:08:14+02:00">17 7 2013 23:08</time>
               [<a href="index.rst" id="sourcelink">Source</a>]
        </span>
        <br><span class="tags">Tags: 
                    <a class="tag" href="../../tags/benchmark/"><span>benchmark</span></a>
                    <a class="tag" href="../../tags/python/"><span>python</span></a>
                    <a class="tag" href="../../tags/tip/"><span>tip</span></a>
                </span>
                <br><span class="authordate">
            

        </span>
        </div>
    <p>This might come as a surprise, but in python 2.7, it's actually faster to decode strigs with unicode function, than decode method.</p>
<div class="code"><pre class="code python"><a id="rest_code_ddecb741c3f147228fbe6ddeccf1b46f-1" name="rest_code_ddecb741c3f147228fbe6ddeccf1b46f-1" href="#rest_code_ddecb741c3f147228fbe6ddeccf1b46f-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">timeit</span><span class="w"> </span><span class="kn">import</span> <span class="n">Timer</span>
<a id="rest_code_ddecb741c3f147228fbe6ddeccf1b46f-2" name="rest_code_ddecb741c3f147228fbe6ddeccf1b46f-2" href="#rest_code_ddecb741c3f147228fbe6ddeccf1b46f-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">s</span> <span class="o">=</span> <span class="s2">"grzegrzółka"</span>
<a id="rest_code_ddecb741c3f147228fbe6ddeccf1b46f-3" name="rest_code_ddecb741c3f147228fbe6ddeccf1b46f-3" href="#rest_code_ddecb741c3f147228fbe6ddeccf1b46f-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">ts</span> <span class="o">=</span> <span class="n">Timer</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">s</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">'utf-8'</span><span class="p">))</span>
<a id="rest_code_ddecb741c3f147228fbe6ddeccf1b46f-4" name="rest_code_ddecb741c3f147228fbe6ddeccf1b46f-4" href="#rest_code_ddecb741c3f147228fbe6ddeccf1b46f-4"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">ts</span><span class="o">.</span><span class="n">timeit</span><span class="p">()</span>
<a id="rest_code_ddecb741c3f147228fbe6ddeccf1b46f-5" name="rest_code_ddecb741c3f147228fbe6ddeccf1b46f-5" href="#rest_code_ddecb741c3f147228fbe6ddeccf1b46f-5"></a><span class="mf">1.4051871299743652</span>
<a id="rest_code_ddecb741c3f147228fbe6ddeccf1b46f-6" name="rest_code_ddecb741c3f147228fbe6ddeccf1b46f-6" href="#rest_code_ddecb741c3f147228fbe6ddeccf1b46f-6"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">tu</span> <span class="o">=</span> <span class="n">Timer</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">unicode</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="s1">'utf-8'</span><span class="p">))</span>
<a id="rest_code_ddecb741c3f147228fbe6ddeccf1b46f-7" name="rest_code_ddecb741c3f147228fbe6ddeccf1b46f-7" href="#rest_code_ddecb741c3f147228fbe6ddeccf1b46f-7"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">tu</span><span class="o">.</span><span class="n">timeit</span><span class="p">()</span>
<a id="rest_code_ddecb741c3f147228fbe6ddeccf1b46f-8" name="rest_code_ddecb741c3f147228fbe6ddeccf1b46f-8" href="#rest_code_ddecb741c3f147228fbe6ddeccf1b46f-8"></a><span class="mf">0.4272959232330322</span>
</pre></div>
<p>Of course, unicode method isn't valid for python3, but you can always mock it's behaviour for py3 in some compat.py file, but... strings in python3 are finally unicode, not ascii like in python2.7,so unless you develop some nice library, you probably know what python version will be running your project.</p>
    
        <ul class="pager hidden-print">
<li class="previous">
                <a href="../configure-gitlab-with-smtp-mail-server/" rel="prev" title="Configure gitlab with smtp mail server">Previous post</a>
            </li>
            <li class="next">
                <a href="../pyramid_fullauth-can-speak-your-language-now/" rel="next" title="pyramid_fullauth can speak Your language now">Next post</a>
            </li>
        </ul>
<div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="casesblog",
            disqus_url="https://fizyk.dev/blog/unicode-is-faster-than-decode/",
        disqus_title="unicode is faster than decode",
        disqus_identifier="cache/posts/2013-07-17-unicode-is-faster-than-decode.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


    

    </div>

        </div>
        <div id="sidebar">
            <!--Sidebar content-->
            <h1 id="blog-title">
                <a href="https://fizyk.dev/" title="Cases">Cases</a>
            </h1>
            
            <small>
                Also available in: 
                
            <li><a href="https://fizyk.dev/pl/" rel="alternate" hreflang="pl">Polski</a></li>

            </small>
            
            <ul class="unstyled">
<li>
<a rel="license" href="http://creativecommons.org/licenses/by/3.0/deed.pl">
    <img alt="Licencja Creative Commons" style="border-width:0" src="http://i.creativecommons.org/l/by/3.0/88x31.png"></a>
<br>Ten utwór, autorstwa
<span xmlns:cc="http://creativecommons.org/ns#" property="cc:attributionName">
    Grzegorz Śliwiński</span>
jest dostępny na licencji
<a rel="license" href="http://creativecommons.org/licenses/by/3.0/deed.pl">
    Creative Commons Uznanie autorstwa 3.0 Unported
</a>.</li>
            
                <li>
<a href="https://fizyk.dev/en">Homepage</a>
                </li>
<li>
<a href="../../archive/">Archives</a>
                </li>
<li>
<a href="../../tags/">Tags</a>

            </li>
<li>
            
            
            </ul>
</div>
        <div id="footer">
            Contents © 2025 <a href="mailto:fizyk~~fizyk.dev">Grzegorz Śliwiński</a> - Powered by <a href="http://nikola.ralsina.com.ar">Nikola</a>
            
        </div>
    </div>
    
            <script src="../../assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-20536007-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</body>
</html>
