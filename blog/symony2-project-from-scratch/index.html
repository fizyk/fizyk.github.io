<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="In my opinion, the best way to learn something is to do it from scratch. So I always had a problems when math teacher started to show-short cuts calculations, but were actually good at them after I learned what the calculation short-cuts were replacing. So... after seeing the symfony2 sandbox application, I decided to create symfony2 application from scratch.">
<meta name="viewport" content="width=device-width">
<title>symony2 project from scratch | Cases</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS (en)" href="../../rss.xml">
<link rel="alternate" type="application/rss+xml" title="RSS (pl)" href="../../pl/rss.xml">
<link rel="canonical" href="http://blog.fizyk.net.pl/blog/symony2-project-from-scratch/">
<link rel="icon" href="../../favicon.png" sizes="62x60">
<link rel="icon" href="../../favicon-speddial.png" sizes="269x262">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]-->
</head>
<body class="home blog">
    <div id="wrap" style="width:850px">
        <div id="container" style="width:560px">
            
            
    <div class="post">
    
    <h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">symony2 project from scratch</a></h1>

        <div class="meta" style="background-color: rgb(234, 234, 234); ">
        <span class="authordate">
            Posted: <time class="published" datetime="2011-01-18T21:01:38+01:00">18 1 2011 21:01</time>
               [<a href="index.rst" id="sourcelink">Source</a>]
        </span>
        <br><span class="tags">Tags: 
                    <a class="tag" href="../../tags/howto/"><span>howto</span></a>
                    <a class="tag" href="../../tags/php/"><span>php</span></a>
                    <a class="tag" href="../../tags/symfony/"><span>symfony</span></a>
                    <a class="tag" href="../../tags/symfony2/"><span>symfony2</span></a>
                </span>
                <br><span class="authordate">
            

        </span>
        </div>
    <div>
<p>In my opinion, the best way to learn something is to do it from scratch.
So I always had a problems when math teacher started to show-short cuts
calculations, but were actually good at them after I learned what the
calculation short-cuts were replacing. So... after seeing the <a class="reference external" href="https://github.com/symfony/symfony-sandbox">symfony2
sandbox</a> application, I
decided to create <a class="reference external" href="http://www.symfony-reloaded.org/">symfony2</a>
application from scratch.</p>
<!-- TEASER_END -->
<p>First, I looked at the possibility to generate application skeleton in
similar way we can generate for <strong>symfony 1.4</strong>. It took me a while,
before I found this neat article "<a class="reference external" href="http://blog.bearwoods.dk/symfony2-project-initilization">symfony2 project
initialization</a>"
by <em>Henrik Bjørnskov</em>. Fortunately, the problem Henrik was writing about
when he  was writing his article, has been resolved. So, the
instructions are actually quite simple, but let me repeat them.</p>
<p>So, before you start, you have to get (preferably recent) version of
symfony-bootstrapper project. You can download it from it's github pages
here:
<a class="reference external" href="https://github.com/symfony/symfony-bootstrapper">https://github.com/symfony/symfony-bootstrapper</a>,
or clone it:</p>
<pre class="code bash"><a id="rest_code_909aaec59b5f4e3c8361ce3e5fd8259a-1" name="rest_code_909aaec59b5f4e3c8361ce3e5fd8259a-1"></a>git clone git://github.com/symfony/symfony-bootstrapper.git
</pre>
<p>The second is actually better choice, since you can update your
bootstrapper with one command later:</p>
<pre class="code bash"><a id="rest_code_8af4bbd895664015a8c246b0741317f2-1" name="rest_code_8af4bbd895664015a8c246b0741317f2-1"></a><span class="nb">cd</span> symfony-bootstrapper
<a id="rest_code_8af4bbd895664015a8c246b0741317f2-2" name="rest_code_8af4bbd895664015a8c246b0741317f2-2"></a>git pull
</pre>
<p>So... we downloaed bootstrapper, let us create project. First, let's
create folder for our project:</p>
<pre class="code bash"><a id="rest_code_7064e46900824beeb8593aa87f3ebbfb-1" name="rest_code_7064e46900824beeb8593aa87f3ebbfb-1"></a>mkdir /path/to/symfony2/project
</pre>
<p>or</p>
<pre class="code bash"><a id="rest_code_569a257f17474d4bbdde228c81df4521-1" name="rest_code_569a257f17474d4bbdde228c81df4521-1"></a>mkdir /path/to/symfony2/project -p
</pre>
<p>Where project is the folder we're creating, then, go to that folder:</p>
<pre class="code bash"><a id="rest_code_248dd3eef43846339d13854ceec0d05a-1" name="rest_code_248dd3eef43846339d13854ceec0d05a-1"></a><span class="nb">cd</span> /path/to/symfony/project
</pre>
<p>From there run:</p>
<pre class="code bash"><a id="rest_code_55bd383eb4394f35928237e240b6109d-1" name="rest_code_55bd383eb4394f35928237e240b6109d-1"></a>php path/to/bootstrapper/symfony.phar init --name<span class="o">=</span><span class="s2">"Symfony2Project"</span> --format<span class="o">=</span><span class="s2">"xml"</span>
</pre>
<p>Now note, there is/was a bug in <strong>config.xml</strong>, so if you choose your config to be stored in xml, make sure, that you reorder your section to look like this:</p>
<pre class="code xml"><a id="rest_code_86c9837cdc784a96abcc4f9792d8783d-1" name="rest_code_86c9837cdc784a96abcc4f9792d8783d-1"></a><span class="nt">&lt;app:config</span> <span class="na">charset=</span><span class="s">"UTF-8"</span> <span class="na">csrf-secret=</span><span class="s">"xxxxxxxxxx"</span> <span class="na">error-handler=</span><span class="s">"null"</span><span class="nt">&gt;</span>
<a id="rest_code_86c9837cdc784a96abcc4f9792d8783d-2" name="rest_code_86c9837cdc784a96abcc4f9792d8783d-2"></a>    <span class="nt">&lt;app:router</span> <span class="na">resource=</span><span class="s">"%kernel.root_dir%/config/routing.xml"</span><span class="nt">/&gt;</span>
<a id="rest_code_86c9837cdc784a96abcc4f9792d8783d-3" name="rest_code_86c9837cdc784a96abcc4f9792d8783d-3"></a>    <span class="nt">&lt;app:validation</span> <span class="na">annotations=</span><span class="s">"true"</span> <span class="na">enabled=</span><span class="s">"true"</span><span class="nt">/&gt;</span>
<a id="rest_code_86c9837cdc784a96abcc4f9792d8783d-4" name="rest_code_86c9837cdc784a96abcc4f9792d8783d-4"></a>    <span class="nt">&lt;app:session</span> <span class="na">auto-start=</span><span class="s">"true"</span> <span class="na">default-locale=</span><span class="s">"en"</span> <span class="na">lifetime=</span><span class="s">"3600"</span><span class="nt">/&gt;</span>
<a id="rest_code_86c9837cdc784a96abcc4f9792d8783d-5" name="rest_code_86c9837cdc784a96abcc4f9792d8783d-5"></a>    <span class="nt">&lt;app:templating</span> <span class="na">assets-version=</span><span class="s">"SomeVersionScheme"</span><span class="nt">/&gt;</span>
<a id="rest_code_86c9837cdc784a96abcc4f9792d8783d-6" name="rest_code_86c9837cdc784a96abcc4f9792d8783d-6"></a><span class="nt">&lt;/app:config&gt;</span>
</pre>
<p>Mind the order of app:session and app:templating. It won't work the
other way. I've submitted reordered config.xml file, and this change was
pulled, but that's in skeleton folder, and it isn't actually in the phar
archive (I have no idea, how to create/update it... yet) so probably
you'll need to introduce that change as well.</p>
<p>What now? You'll need to download vendor libraries. So, let us download
Symfony first, you can just clone it, like Henrik wrote in his post, but
since I place all my projects in git repo, it made more sense to use
sumbodules (and learn how to work with it):</p>
<pre class="code bash"><a id="rest_code_8112e19c0a2b4a73a0c38d21cb61d8dc-1" name="rest_code_8112e19c0a2b4a73a0c38d21cb61d8dc-1"></a>git submodule add git://github.com/symfony/symfony.git src/vendor/symfony/
<a id="rest_code_8112e19c0a2b4a73a0c38d21cb61d8dc-2" name="rest_code_8112e19c0a2b4a73a0c38d21cb61d8dc-2"></a>git submodule init
<a id="rest_code_8112e19c0a2b4a73a0c38d21cb61d8dc-3" name="rest_code_8112e19c0a2b4a73a0c38d21cb61d8dc-3"></a>git submodule update
</pre>
<p>Symfony uses Zend_Logger, so you'll need at least that as well. It
isn't shipped with symfony2, but it's enough to copy it from sandbox
package. it has exactly what we need, nothing more. But if you'd like to
use more Zend Framework libraries, you can clone it from github as well,
just like Henrik in his <a class="reference external" href="http://blog.bearwoods.dk/symfony2-project-initilization">post
wrote</a>.</p>
<p>Another library which is rather must, is <strong>Twig</strong>, you can download it
from <a class="reference external" href="http://www.twig-project.org/">www.twig-project.org</a>, but even if
there's RC version available, it is version downloaded from Twig's
<a class="reference external" href="https://github.com/fabpot/twig">master branch on github repo</a> which
works, not RC1. And again, you can clone it:</p>
<pre class="code bash"><a id="rest_code_465012e498c44903921e2a0e0ca45bb4-1" name="rest_code_465012e498c44903921e2a0e0ca45bb4-1"></a>git clone git://github.com/fabpot/Twig.git src/vendor/twig
</pre>
<p>or submodule it:</p>
<pre class="code bash"><a id="rest_code_a018900e1c5c488e8b918bb0bd1ee866-1" name="rest_code_a018900e1c5c488e8b918bb0bd1ee866-1"></a>git submodule add git://github.com/fabpot/Twig.git src/vendor/twig
<a id="rest_code_a018900e1c5c488e8b918bb0bd1ee866-2" name="rest_code_a018900e1c5c488e8b918bb0bd1ee866-2"></a>git submodule init
<a id="rest_code_a018900e1c5c488e8b918bb0bd1ee866-3" name="rest_code_a018900e1c5c488e8b918bb0bd1ee866-3"></a>git submodule update
</pre>
<p>I tried to comment it out, but got error, that there's anything that can
use twig configuration options.</p>
<p>At this point your app will yell for you at the lack of Doctrine, but
you can just comment it out in yours app Kernel:</p>
<pre class="code php5"><a id="rest_code_a7a0751ab1924fe6b4527b5c23da4459-1" name="rest_code_a7a0751ab1924fe6b4527b5c23da4459-1"></a><span class="x">class Symfony2ProjectKernel extends Kernel</span>
<a id="rest_code_a7a0751ab1924fe6b4527b5c23da4459-2" name="rest_code_a7a0751ab1924fe6b4527b5c23da4459-2"></a><span class="x">{</span>
<a id="rest_code_a7a0751ab1924fe6b4527b5c23da4459-3" name="rest_code_a7a0751ab1924fe6b4527b5c23da4459-3"></a>
<a id="rest_code_a7a0751ab1924fe6b4527b5c23da4459-4" name="rest_code_a7a0751ab1924fe6b4527b5c23da4459-4"></a><span class="x">    public function registerBundles()</span>
<a id="rest_code_a7a0751ab1924fe6b4527b5c23da4459-5" name="rest_code_a7a0751ab1924fe6b4527b5c23da4459-5"></a><span class="x">    {</span>
<a id="rest_code_a7a0751ab1924fe6b4527b5c23da4459-6" name="rest_code_a7a0751ab1924fe6b4527b5c23da4459-6"></a><span class="x">        $bundles = array(</span>
<a id="rest_code_a7a0751ab1924fe6b4527b5c23da4459-7" name="rest_code_a7a0751ab1924fe6b4527b5c23da4459-7"></a><span class="x">            new Symfony\Bundle\FrameworkBundle\FrameworkBundle(),</span>
<a id="rest_code_a7a0751ab1924fe6b4527b5c23da4459-8" name="rest_code_a7a0751ab1924fe6b4527b5c23da4459-8"></a><span class="x">            new Symfony\Bundle\TwigBundle\TwigBundle(),</span>
<a id="rest_code_a7a0751ab1924fe6b4527b5c23da4459-9" name="rest_code_a7a0751ab1924fe6b4527b5c23da4459-9"></a>
<a id="rest_code_a7a0751ab1924fe6b4527b5c23da4459-10" name="rest_code_a7a0751ab1924fe6b4527b5c23da4459-10"></a><span class="x">             // enable third-party bundles</span>
<a id="rest_code_a7a0751ab1924fe6b4527b5c23da4459-11" name="rest_code_a7a0751ab1924fe6b4527b5c23da4459-11"></a><span class="x">             new Symfony\Bundle\ZendBundle\ZendBundle(),</span>
<a id="rest_code_a7a0751ab1924fe6b4527b5c23da4459-12" name="rest_code_a7a0751ab1924fe6b4527b5c23da4459-12"></a><span class="x">             new Symfony\Bundle\SwiftmailerBundle\SwiftmailerBundle(),</span>
<a id="rest_code_a7a0751ab1924fe6b4527b5c23da4459-13" name="rest_code_a7a0751ab1924fe6b4527b5c23da4459-13"></a><span class="x">             //new Symfony\Bundle\DoctrineBundle\DoctrineBundle(),</span>
<a id="rest_code_a7a0751ab1924fe6b4527b5c23da4459-14" name="rest_code_a7a0751ab1924fe6b4527b5c23da4459-14"></a><span class="x">             //new Symfony\Bundle\DoctrineMigrationsBundle\DoctrineMigrationsBundle(),</span>
<a id="rest_code_a7a0751ab1924fe6b4527b5c23da4459-15" name="rest_code_a7a0751ab1924fe6b4527b5c23da4459-15"></a><span class="x">             //new Symfony\Bundle\DoctrineMongoDBBundle\DoctrineMongoDBBundle(),</span>
<a id="rest_code_a7a0751ab1924fe6b4527b5c23da4459-16" name="rest_code_a7a0751ab1924fe6b4527b5c23da4459-16"></a><span class="x">             //new Symfony\Bundle\PropelBundle\PropelBundle(),</span>
<a id="rest_code_a7a0751ab1924fe6b4527b5c23da4459-17" name="rest_code_a7a0751ab1924fe6b4527b5c23da4459-17"></a>
<a id="rest_code_a7a0751ab1924fe6b4527b5c23da4459-18" name="rest_code_a7a0751ab1924fe6b4527b5c23da4459-18"></a><span class="x">             // register your bundles</span>
<a id="rest_code_a7a0751ab1924fe6b4527b5c23da4459-19" name="rest_code_a7a0751ab1924fe6b4527b5c23da4459-19"></a><span class="x">        );</span>
<a id="rest_code_a7a0751ab1924fe6b4527b5c23da4459-20" name="rest_code_a7a0751ab1924fe6b4527b5c23da4459-20"></a>
<a id="rest_code_a7a0751ab1924fe6b4527b5c23da4459-21" name="rest_code_a7a0751ab1924fe6b4527b5c23da4459-21"></a><span class="x">        if ($this-&gt;isDebug()) {</span>
<a id="rest_code_a7a0751ab1924fe6b4527b5c23da4459-22" name="rest_code_a7a0751ab1924fe6b4527b5c23da4459-22"></a><span class="x">            $bundles[] = new Symfony\Bundle\WebProfilerBundle\WebProfilerBundle();</span>
<a id="rest_code_a7a0751ab1924fe6b4527b5c23da4459-23" name="rest_code_a7a0751ab1924fe6b4527b5c23da4459-23"></a><span class="x">        }</span>
<a id="rest_code_a7a0751ab1924fe6b4527b5c23da4459-24" name="rest_code_a7a0751ab1924fe6b4527b5c23da4459-24"></a>
<a id="rest_code_a7a0751ab1924fe6b4527b5c23da4459-25" name="rest_code_a7a0751ab1924fe6b4527b5c23da4459-25"></a><span class="x">        return $bundles;</span>
<a id="rest_code_a7a0751ab1924fe6b4527b5c23da4459-26" name="rest_code_a7a0751ab1924fe6b4527b5c23da4459-26"></a><span class="x">    }</span>
<a id="rest_code_a7a0751ab1924fe6b4527b5c23da4459-27" name="rest_code_a7a0751ab1924fe6b4527b5c23da4459-27"></a>
<a id="rest_code_a7a0751ab1924fe6b4527b5c23da4459-28" name="rest_code_a7a0751ab1924fe6b4527b5c23da4459-28"></a><span class="x">    //...........</span>
<a id="rest_code_a7a0751ab1924fe6b4527b5c23da4459-29" name="rest_code_a7a0751ab1924fe6b4527b5c23da4459-29"></a><span class="x">}</span>
</pre>
<p>I know, there's swiftmailer bundle, but well... Doesn't use anything
third party at the moment.</p>
<p>There's one last thing to do, before we can look at our fresh, clean
symfony2 project:</p>
<pre class="code bash"><a id="rest_code_0e8626ade1ce4c01af6612458b7e70ce-1" name="rest_code_0e8626ade1ce4c01af6612458b7e70ce-1"></a>./app/console assets:install web/
</pre>
<p>It copies bundles assets into web/ folder just like command below did in
symfony 1.4:</p>
<pre class="code bash"><a id="rest_code_6510917ed4734f2da71f66f316bf2081-1" name="rest_code_6510917ed4734f2da71f66f316bf2081-1"></a>./symfony plugin:publish-assets
</pre>
<p>You can of course create symbolic links:</p>
<pre class="code bash"><a id="rest_code_783a9ee7f95e4035bee4f580e5e8312b-1" name="rest_code_783a9ee7f95e4035bee4f580e5e8312b-1"></a>./app/console assets:install web/ --symbolic
</pre>
<p>But if you install bundle's assets like that, you might have problems
with loading your project through some ftp clients.</p>
<p>Now, you have you shiny symfony2 project up and running. Now you can
start to create your own controllers and build some nice looking layout.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You should install php5-sqlite package from you repo (on linux), to use Symfony's <strong>WebProfiler</strong>!</p>
</div>
</div>
    
        <ul class="pager hidden-print">
<li class="previous">
                <a href="../symfony-command-line-tool-with-custom-php-ini-en/" rel="prev" title="symfony command line tool with custom php.ini">Previous post</a>
            </li>
            <li class="next">
                <a href="../fztagplugin-1-2-6/" rel="next" title="fzTagPlugin 1.2.6">Next post</a>
            </li>
        </ul>
<div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="casesblog",
            disqus_url="http://blog.fizyk.net.pl/blog/symony2-project-from-scratch/",
        disqus_title="symony2 project from scratch",
        disqus_identifier="cache/posts/2011-01-18-symony2-project-from-scratch.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


    

    </div>

        </div>
        <div id="sidebar">
            <!--Sidebar content-->
            <h1 id="blog-title">
                <a href="http://blog.fizyk.net.pl/" title="Cases">Cases</a>
            </h1>
            
            <small>
                Also available in: 
                
            <li><a href="http://blog.fizyk.net.pl/pl/" rel="alternate" hreflang="pl">Polski</a></li>

            </small>
            
            <ul class="unstyled">
<li>
<a rel="license" href="http://creativecommons.org/licenses/by/3.0/deed.pl">
    <img alt="Licencja Creative Commons" style="border-width:0" src="http://i.creativecommons.org/l/by/3.0/88x31.png"></a>
<br>Ten utwór, autorstwa
<span xmlns:cc="http://creativecommons.org/ns#" property="cc:attributionName">
    Grzegorz Śliwiński</span>
jest dostępny na licencji
<a rel="license" href="http://creativecommons.org/licenses/by/3.0/deed.pl">
    Creative Commons Uznanie autorstwa 3.0 Unported
</a>.</li>
            
                <li>
<a href="http://www.fizyk.net.pl/en">Homepage</a>
                </li>
<li>
<a href="../../archive/">Archives</a>
                </li>
<li>
<a href="../../tags/">Tags</a>

            </li>
<li>
            
            
            </ul>
</div>
        <div id="footer">
            Contents © 2021 <a href="mailto:fizyk~~fizyk.net.pl">Grzegorz Śliwiński</a> - Powered by <a href="http://nikola.ralsina.com.ar">Nikola</a>
            
        </div>
    </div>
    
            <script src="../../assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-20536007-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</body>
</html>
